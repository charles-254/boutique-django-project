{%  extends 'base.html' %}

{% block content %}
<script>
    function redirectToUrl() {
        var dropdown = document.getElementById("dropdown");
        var selectedValue = dropdown.options[dropdown.selectedIndex].value;
        window.location.href = selectedValue;
    }
</script>
<div class="container mt-4">
    <div class="row">
        <div class="col-md-2" style="border-right: 3px solid #ddd;">
            <img class="img-responsive" src="images/login.png" alt="User Icon"><br>
            <p class="font-italic text-muted">{% for employee in employees %}{{employee.employee_login.username}} {% endfor %}</p>
            <a href="{% url 'your-profile' %}" class="btn btn-outline-primary ">your profile</a><br>
            <a href="#" class="btn btn-outline-primary my-2">record sales</a><br>
            <a href="{% url 'products' %}" class="btn btn-outline-primary ">products</a><br>
            <select id="dropdown" name="dropdown" class="btn btn-outline-primary my-2" onchange="redirectToUrl()">

                <option value="{% url 'sales' %}">all sales made</option>
                <option value="{% url 'search' %}">filter sales</option>
            </select>
        </div>
        <div class="col border border-primary">
            <h3 class="col-11 col-md-4 mx-auto mt-5">PRODUCTS</h3>
            <table class="table table-hover table-striped">
                <thead>
                    <tr>
                        <th scope="col">Code</th>
                        <th scope="col">Name</th>
                        <th scope="col">Price</th>
                        <th scope="col">Quantity</th>
                    </tr>
                </thead>
                <tbody>
                    {% if products|length == 0 %}
                        <tr>
                            <th scope="row">-</th>
                            <td>-</td>
                            <td>-</td>
                            <td>-</td>

                        </tr>
                    {% endif %}
                    {% for product in products %}
                        <tr>
                            <th scope="row">{{ product.code }}</th>
                            <td>{{ product.name }}</td>
                            <td>{{ product.price }}</td>
                            <td>{{ product.quantity }}</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>

{% endblock content %}